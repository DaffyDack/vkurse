---
import Content from "./contentTabs/Content.astro";
import Slider from "./TabContentSlider.astro";
const { id, label, index, title, descriptons, bg } = Astro.props;
import DemonstrationModal from "../../../components/modals/DemonstrationModal.astro";
---

<script>
    let normal = document.querySelectorAll(".normal");
    let mini = document.querySelectorAll(".mini");
    window.onload = function () {
        if (window.innerWidth > 665) {
            for (var i = 0; i < normal.length; ++i) {
                mini[i].classList.add("disabled");
                normal[i].classList.remove("disabled");
            }
        } else {
            for (var i = 0; i < normal.length; ++i) {
                normal[i].classList.add("disabled");
                mini[i].classList.remove("disabled");
            }
        }
    };
    window.onresize = function () {
        if (window.innerWidth > 665) {
            for (var i = 0; i < normal.length; ++i) {
                mini[i].classList.add("disabled");
                normal[i].classList.remove("disabled");
            }
        } else {
            for (var i = 0; i < normal.length; ++i) {
                normal[i].classList.add("disabled");
                mini[i].classList.remove("disabled");
            }
        }
    };
</script>
<div
    class="hidden opacity-100 transition-opacity duration-150 ease-linear data-[te-tab-active]:block"
    id=`pills-${id}`
    role="tabpanel"
    aria-labelledby=`pills-${label}-tab01`
    data-te-tab-active={index == 0}
>
    <div class={`wrapper_content_tabs div${bg}`}>
        <ul>
            <li class="special_padding disabled">
                <div class="normal">
                    <div class="title">{title}</div>
                    <div class="discription">
                        {descriptons}
                    </div>
                </div>
                <div class="wrapper_mini mini disabled">
                    <Slider
                        id={id}
                        index={index}
                        title={title}
                        descriptons={descriptons}
                    />
                </div>
                <button
                    data-te-toggle="modal"
                    data-te-target="#exampleModal"
                    class="btn">Попробовать бесплатно</button
                >
            </li>
            <li>
                <Content index={index} />
            </li>
        </ul>
    </div>
    <DemonstrationModal />
</div>
<style lang="scss">
    $font-family_1: "Montserrat", sans-serif;
    $colors: "#DF78A6", "#A18AF2", "#99D4FB", "#66BEAB", "#EACD80", "#E4A086",
        "#E07F86", "#DF78A6", "#A18AF2", "#99d4fb";

    .normal.disabled,
    .mini.disabled {
        display: none;
    }
    .title {
        font-family: $font-family_1;
        font-size: 36px;
        padding-right: 34%;
        line-height: 44px;
        margin-bottom: 16px;
    }
    .wrapper_content_tabs {
        border-radius: 32px;
        min-height: 440px;
        display: flex;
        flex-direction: column;
        &.divDF78A6 {
            background: #df78a6;
        }
        &.divA18AF2 {
            background: #a18af2;
        }
        &.div99D4FB {
            background: #99d4fb;
        }
        &.div66BEAB {
            background: #66beab;
        }
        &.divEACD80 {
            background: #eacd80;
        }
        &.divE4A086 {
            background: #e4a086;
        }
        &.divE07F86 {
            background: #e07f86;
        }
        &.divDF78A6 {
            background: #df78a6;
        }
        &.divA18AF2 {
            background: #a18af2;
        }
        &.div99d4fb {
            background: #99d4fb;
        }
        > ul {
            display: flex;
            flex-grow: 1;
            > li {
                padding: 32px;
                &:first-child {
                    width: 60%;
                    position: relative;
                    padding-bottom: 100px;

                    > button {
                        background: url(/images/mini_arrow.png) right 19px top
                            50% no-repeat #374152;
                        background-size: 16px;
                        color: #fff;
                        padding: 13px 50px 13px 32px;
                        border-radius: 12px;
                        position: absolute;
                        bottom: 25px;
                        left: 25px;
                        &:hover {
                            background: url(/images/mini_arrow.png) right 19px
                                top 50% no-repeat #001d31;
                            background-size: 16px;
                        }
                    }
                }
                &:last-child {
                    flex-grow: 1;
                    display: flex;
                    align-content: center;
                    justify-content: center;
                    flex-wrap: wrap;
                    padding: 0;
                }
            }
        }
    }

    @media (max-width: 665px) {
        .wrapper_content_tabs {
            min-height: auto;
            .special_padding {
                padding-bottom: 150px !important;
            }
            .discription {
                font-size: 20px;
            }
            > ul {
                display: flex;
                flex-direction: column-reverse;
                li {
                    &:first-child {
                        width: 100%;
                    }
                    &:last-child {
                        width: 100%;
                    }
                }
            }
        }
    }
    @media (min-width: 1900px) {
        .wrapper_content_tabs {
            min-height: 623px;
            ul {
                li {
                    padding: 32px;
                    padding: 59px 32px 32px 55px;
                    &:last-child {
                        width: 670px;
                    }
                    &:first-child {
                        > button {
                            background: url(/images/mini_arrow.png) right 17px top 50% no-repeat #374152;
                            background-size: 16px;
                            padding: 13px 40px 13px 17px;
                            bottom: 53px;
                            left: 55px;
                            font-size: 14px;
                            letter-spacing: 0.1px;
                        }
                    }
                }
            }
            .title {
                font-size: 48px;
                padding-right: 43%;
                line-height: 58px;
                margin-bottom: 37px;
            }
            .discription {
                padding-right: 115px;
                line-height: 27px;
                font-size: 18px;
                letter-spacing: 0.2px;
            }
        }
    }
</style>
